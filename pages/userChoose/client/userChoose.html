<template name="userChoose">

  <div class="jumbotron">
    <h1>Build Your Meal Plan</h1>
  </div>

  {{#if currentUser}}
    {{#if hasProfile}}
      {{> showprofile}}
    {{else}}
      <h2>Input your information to build your meal plan</h2>
      {{> addprofile}}
    {{/if}}
  {{else}}
    <h2>Please sign-up for an account</h2>
  {{/if}}

</template>

<template name="addprofile">
  Name: <input type="text" id="firstname" placeholder="First">
        <input type="text" id="lastname" placeholder="Last">
  <br>
  <p>Email: <input type="text" id="email" placeholder="Email"></p>

  <p><input type="checkbox" id="vegetarian" name="vegan" value="vege">Are you a vegetarian?</p>

  <p>Birthday <input id="birthdate" type="date"></p>

  <p>BMI range
    <form>
      <input type="radio" name="bmi" value="underweight">below 18.5<br>
      <input type="radio" name="bmi" value="normal">18.5 - 24.9<br>
      <input type="radio" name="bmi" value="overweight">25 - 29.9<br>
      <input type="radio" name="bmi" value="obese">30 above
    </form>
  </p>

  <p>Food style
     <select id="foodstyle"> <!--Supplement an id here instead of using 'name'-->
       <option>Quick &amp; healthy</option>
       <option>Kid friendly</option>
       <option>Low Calorie</option>
       <option>Paleolithic diet</option>
       <option>Diabetic</option>
       <option>Heart Healthy</option>
       <option>All 30 minute meals</option>
       <option>Slow cooker</option>
       <option>Classic</option>
     </select>
  </p>

  <p>Any food materials that you are allergic to or not acceptable: </p>
  <textarea form ="testform1" name="taname1" id="allergy" rows="5" cols="50" wrap="soft"></textarea>
  <br>

  <p>Any other information you need to tell us for your meal plan: </p>
  <textarea form ="testform2" name="taname2" id="otherinfo" rows="5" cols="50" wrap="soft"></textarea>
  <br>

  <p>Choose a color for dishwares
    <input id="dishColor" type="color" size="200">
  </p>

  <button id="submit" class="btn btn-primary btn-s">
     Submit
   </button>
</template>

<template name="showprofile">

  <div class="showprofilediv">
    <h2>Review your information:</h2>
    <table class="table table-striped table-bordered">
      <tbody>
        <tr>
          <td> Name </td>
          <td> {{user.firstname}} {{user.lastname}} </td>
        </tr>

        <tr>
          <td> Email </td>
          <td> {{user.email}} </td>
        </tr>

        <tr>
          <td> Vegetarian </td>
        {{#if user.vegetarian}}
          <td> Yes </td>
        {{else}}
          <td> No </td>
        {{/if}}
        </tr>

        <tr>
          <td> Birthday </td>
          <td> {{user.birthdate}} </td>
        </tr>

        <tr>
          <td> BMI </td>
          <td> {{user.bmi}} </td>
        </tr>

        <tr>
          <td> Foodstyle </td>
          <td> {{user.foodstyle}} </td>
        </tr>

        <tr>
          <td> Don't eat </td>
          <td> {{user.allergy}} </td>
        </tr>

        <tr>
          <td> Other information </td>
          <td> {{user.otherinfo}} </td>
        </tr>

        <tr>
          <td> Create at </td>
          <td> {{user.createAt}} </td>
        </tr>

      </tbody>
    </table>

    <button id="edit" class="btn btn-info btn-s">
      Edit
    </button>

    {{#if hasPayment}}
      {{> addpayment}}
      {{> showpayment}}
    {{else}}
      {{> addpayment}}
    {{/if}}
  </div>

  <div class="editinfo">

    Name: <input type="text" class="editfirstname" value="{{user.firstname}}">
          <input type="text" class="editlastname" value="{{user.lastname}}">
    <br>

    <p>Email: <input type="text" class="editemail" value="{{user.email}}"></p>

    <p><input type="checkbox" class="editvegetarian" name="vegan" value="{{user.vegetarian}}">Are you a vegetarian?</p>

    <p>Birthday <input class="editbirthdate" type="date" value="{{user.birthdate}}"></p>

    <p>BMI range
      <form>
        <input type="radio" name="editbmi" value="underweight">below 18.5<br>
        <input type="radio" name="editbmi" value="normal">18.5 - 24.9<br>
        <input type="radio" name="editbmi" value="overweight">25 - 29.9<br>
        <input type="radio" name="editbmi" value="obese">30 above
      </form>
    </p>

    <p>Food style
       <select class="editfoodstyle"> <!--Supplement an id here instead of using 'name'-->
         <option>Quick &amp; healthy</option>
         <option>Kid friendly</option>
         <option>Low Calorie</option>
         <option>Paleolithic diet</option>
         <option>Diabetic</option>
         <option>Heart Healthy</option>
         <option>All 30 minute meals</option>
         <option>Slow cooker</option>
         <option>Classic</option>
       </select>
    </p>

    <p>Any food materials that you are allergic to or not acceptable: </p>
    <textarea form ="testform1" name="taname1" class="editallergy" value="{{user.allergy}}" rows="5" cols="50" wrap="soft"></textarea>
    <br>

    <p>Any other information you need to tell us for your meal plan: </p>
    <textarea form ="testform2" name="taname2" class="editotherinfo" value="{{user.otherinfo}}" rows="5" cols="50" wrap="soft"></textarea>
    <br>

    <p>Choose a color for dishwares
      <input id="dishColor" type="color" size="200">
    </p>

    <button id="save" class="btn btn-success btn-s">
       Save changes
     </button>
  </div>

</template>


<template name="addpayment">
  <div class="payment">
    <h2>Complete your Payment Details</h2>
    <p>Name on your card: <input type="text" id="nameoncard"></p>
    <p>Card number: <input type="text" id="creditcard">
      <img src="images/credit_card_logos.jpg" width=150 alt="credit card">
    </p>
    <p>Expiration Date:
      <select id="month">
        <option>01</option>
        <option>02</option>
        <option>03</option>
        <option>04</option>
        <option>05</option>
        <option>06</option>
        <option>07</option>
        <option>08</option>
        <option>09</option>
        <option>10</option>
        <option>11</option>
        <option>12</option>
      </select>
      <select id="year">
        <option>2017</option>
        <option>2018</option>
        <option>2019</option>
        <option>2020</option>
        <option>2021</option>
        <option>2022</option>
        <option>2023</option>
        <option>2024</option>
        <option>2025</option>
      </select>
    </p>
    <p>Security Code: <input type="text" id="securitycode"></p>
    <p>Zip Code: <input type="text" id="zipcode"></p>
    <p>Phone number: <input type="text" id="phonenumber"></p>
    <button id="save" class="btn btn-info btn-s">
       Add Credit Card
    </button>
  </div>
</template>

<template name="showpayment">
  <h2>Your payment methods: (check the one used for this order)</h2>
  <ol>
  {{#each card in paymentlist}}
    <li>{{> cardrow card=card}}</li>
  {{/each}}
  </ol>
  <button id="order" class="btn btn-danger btn-s">
     Place Order
  </button>
</template>

<template name="cardrow">
  <input type="checkbox" id="vegetarian"><strong>{{card.name}}'s credit card: {{card.cardnumb}}
  <span class="glyphicon glyphicon-remove" aria-hidden="true"></span></strong><br>
</template>
